---
import pagesData from '../data/pages.json';
const { htmlPages, metaData } = pagesData;

const numPages =
    htmlPages.length > 3
        ? 3
        : htmlPages.length;
// Compute a static class name
const gridColsClass =
    numPages === 1 ? 'grid-cols-1' :
    numPages === 2 ? 'grid-cols-2' :
    'grid-cols-3';
---
<div class="w-full">
    <div class={`grid ${gridColsClass} gap-6 ${htmlPages.length < 3 ? 'justify-items-center' : ''}`}>
        {htmlPages.length > 0 ? (
            htmlPages.map((page) => (
                <a
                    href={page.path.replace(/\.html$/, '')}
                    title={page.description}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="group block p-8 rounded-xl hover:bg-white/5 transition-all duration-300 hover:scale-105 text-center"
                >
                    <div class="text-5xl mb-6">{page.icon}</div>
                    <h3 class="text-xl font-bold mb-3 text-purple-400">{page.name}</h3>
                    <p class="text-slate-400 text-sm leading-relaxed">{page.description}</p>
                </a>
            ))
        ) : (
            <div class="col-span-full text-center">
                <div class="p-8 rounded-xl">
                    <p class="text-slate-400">No projects configured yet.</p>
                </div>
            </div>
        )}
    </div>
</div>
